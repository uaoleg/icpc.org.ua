# m h dom mon dow command

# Delete unsaved contracts daily
0 0 * * * php /var/www/tourcrm/yii contracts/delete-unsaved >> /var/www/tourcrm/console/runtime/logs/cron-contracts-delete-unsaved.log 2>&1 & echo $! >> /var/www/tourcrm/console/runtime/logs/cron-contracts-delete-unsaved.pid.log

# Notifications auto schedule daily
10 0 * * * php /var/www/tourcrm/yii notifications/schedule-tourist-birthday >> /var/www/tourcrm/console/runtime/logs/cron-notifications-schedule-tourist-birthday.log 2>&1 & echo $! >> /var/www/tourcrm/console/runtime/logs/cron-notifications-schedule-tourist-birthday.pid.log

# Update Facebook groups' members daily
20 0 * * * php /var/www/tourcrm/yii facebook/import-group-members >> /var/www/tourcrm/console/runtime/logs/facebook-import-group-members.log 2>&1 & echo $! >> /var/www/tourcrm/console/runtime/logs/facebook-import-group-members.pid.log

# Import firm products daily
0 1 * * * php /var/www/tourcrm/yii import-products/feerie >> /var/www/tourcrm/console/runtime/logs/cron-import-products-feerie.log 2>&1 & echo $! >> /var/www/tourcrm/console/runtime/logs/cron-import-products-feerie.pid.log

# Import airlines monthly
0 4 1 * * php /var/www/tourcrm/yii import-airlines >> /var/www/tourcrm/console/runtime/logs/cron-import-airlines.log 2>&1 & echo $! >> /var/www/tourcrm/console/runtime/logs/cron-import-airlines.pid.log

# Import hotels monthly
15 3 1 * * php /var/www/tourcrm/yii import-hotels/populate-tags >> /var/www/tourcrm/console/runtime/logs/cron-import-hotels-populate-tags.log 2>&1 & echo $! >> /var/www/tourcrm/console/runtime/logs/cron-import-hotels-populate-tags.pid.log
15 4 1 * * php /var/www/tourcrm/yii import-hotels/turpravda >> /var/www/tourcrm/console/runtime/logs/cron-import-hotels-turpravda.log 2>&1 & echo $! >> /var/www/tourcrm/console/runtime/logs/cron-import-hotels-turpravda.pid.log

# DB dumps
0 4 * * 1,3,4,5,7 php /var/www/tourcrm/yii db/dump daily >> /var/www/tourcrm/console/runtime/logs/cron-db-dump.log 2>&1 & echo $! >> /var/www/tourcrm/console/runtime/logs/cron-db-dump.pid.log
0 4 * * 2 php /var/www/tourcrm/yii db/dump daily-2 >> /var/www/tourcrm/console/runtime/logs/cron-db-dump.log 2>&1 & echo $! >> /var/www/tourcrm/console/runtime/logs/cron-db-dump.pid.log
0 4 * * 6 php /var/www/tourcrm/yii db/dump daily-6 >> /var/www/tourcrm/console/runtime/logs/cron-db-dump.log 2>&1 & echo $! >> /var/www/tourcrm/console/runtime/logs/cron-db-dump.pid.log
10 4 1 * * php /var/www/tourcrm/yii db/dump month-1 >> /var/www/tourcrm/console/runtime/logs/cron-db-dump.log 2>&1 & echo $! >> /var/www/tourcrm/console/runtime/logs/cron-db-dump.pid.log
10 4 15 * * php /var/www/tourcrm/yii db/dump month-15 >> /var/www/tourcrm/console/runtime/logs/cron-db-dump.log 2>&1 & echo $! >> /var/www/tourcrm/console/runtime/logs/cron-db-dump.pid.log

20 4 * * 1,3,4,5,7 php /var/www/tourcrm/yii db/dump-form daily >> /var/www/tourcrm/console/runtime/logs/cron-db-dump-form.log 2>&1 & echo $! >> /var/www/tourcrm/console/runtime/logs/cron-db-dump-form.pid.log
20 4 * * 2 php /var/www/tourcrm/yii db/dump-form daily-2 >> /var/www/tourcrm/console/runtime/logs/cron-db-dump-form.log 2>&1 & echo $! >> /var/www/tourcrm/console/runtime/logs/cron-db-dump-form.pid.log
20 4 * * 6 php /var/www/tourcrm/yii db/dump-form daily-6 >> /var/www/tourcrm/console/runtime/logs/cron-db-dump-form.log 2>&1 & echo $! >> /var/www/tourcrm/console/runtime/logs/cron-db-dump-form.pid.log
30 4 1 * * php /var/www/tourcrm/yii db/dump-form month-1 >> /var/www/tourcrm/console/runtime/logs/cron-db-dump-form.log 2>&1 & echo $! >> /var/www/tourcrm/console/runtime/logs/cron-db-dump-form.pid.log
30 4 15 * * php /var/www/tourcrm/yii db/dump-form month-15 >> /var/www/tourcrm/console/runtime/logs/cron-db-dump-form.log 2>&1 & echo $! >> /var/www/tourcrm/console/runtime/logs/cron-db-dump-form.pid.log

30 4 * * 1,3,4,5,7 php /var/www/tourcrm/yii db/dump-partners daily >> /var/www/tourcrm/console/runtime/logs/cron-db-dump-partners.log 2>&1 & echo $! >> /var/www/tourcrm/console/runtime/logs/cron-db-dump-partners.pid.log
30 4 * * 2 php /var/www/tourcrm/yii db/dump-partners daily-2 >> /var/www/tourcrm/console/runtime/logs/cron-db-dump-partners.log 2>&1 & echo $! >> /var/www/tourcrm/console/runtime/logs/cron-db-dump-partners.pid.log
30 4 * * 6 php /var/www/tourcrm/yii db/dump-partners daily-6 >> /var/www/tourcrm/console/runtime/logs/cron-db-dump-partners.log 2>&1 & echo $! >> /var/www/tourcrm/console/runtime/logs/cron-db-dump-partners.pid.log
40 4 1 * * php /var/www/tourcrm/yii db/dump-partners month-1 >> /var/www/tourcrm/console/runtime/logs/cron-db-dump-partners.log 2>&1 & echo $! >> /var/www/tourcrm/console/runtime/logs/cron-db-dump-partners.pid.log
40 4 15 * * php /var/www/tourcrm/yii db/dump-partners month-15 >> /var/www/tourcrm/console/runtime/logs/cron-db-dump-partners.log 2>&1 & echo $! >> /var/www/tourcrm/console/runtime/logs/cron-db-dump-partners.pid.log

# Update SSL
0 3 * * 6 /usr/bin/certbot renew --quiet --renew-hook "/bin/systemctl reload nginx"
